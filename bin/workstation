#!/bin/bash

# bootstrap ensures git and bash-tools are installed,
# which we'll need for anything further
"$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)/bootstrap"

# shellcheck source=/dev/null
. "$HOME"/.local/lib/bash-tools/lib.sh
log_use_file

scripts=(
  'config-sudo'
  'config-apt'
  'uninstall-snapd'
  'update-packages'
  'upgrade-packages'
  'autoremove-packages'
  'install-base'
  'install-home'
  'install-fonts'
  'install-alacritty'
  'install-dev'
  'install-dev-vscode'
  'install-dev-flutter'
  'install-dev-pony'
  'install-dev-dotnet'
  'install-kvm'
  'install-podman'
)

for script in "${scripts[@]}"; do
  status_msg "Running $script..."
  if ! "${__ROOT}/bin/${script}" >> "$__LOGFILE" 2>&1; then
    status_fail
    exit 1
  else
    status_ok
  fi
done
