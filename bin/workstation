#!/bin/bash

#shellcheck source=../lib.sh
source "$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)/lib.sh"
require_non_root
log_use_file

scripts=(
  'config-sudo'
  'config-apt'
  'uninstall-snapd'
  'update-packages'
  'upgrade-packages'
  'install-base'
  'install-base-nvim'
  'install-base-gpg'
  'install-base-btm'
  'install-base-ffmpeg'
  'install-home'
  'install-dev'
  'install-dev-vscode'
  'install-dev-flutter'
  'install-dev-pony'
  'install-dev-dotnet'
  'install-qemu'
  'install-podman'
)

for script in "${scripts[@]}"; do
  status_msg "Running $script..."
  if ! "${__ROOT}/bin/${script}" >> "$__LOGFILE" 2>&1; then
    status_fail
    exit 1
  else
    status_ok
  fi
done
